# Brief API documentation for SpigotMaster 

- Register and send client events 

On spigot side: 

- Data types supported by values in map: 

| Java type | Python type | 
| ----------------------- | ----------------- | 
| null | None | 
| boolean | bool | 
| int | int | 
| long | long | 
| BigInteger(2^63~2^64-1) | long(2^63~2^64-1) | 
| float | float | 
| double | float | 
| String | str | 
| List\<Object\> | list | 
| Map<String, Object> | dict | 

- The entity id on the client side is the same as the entity id obtained by org.bukkit.entity.Entity.getEntityId() on the spigot side 

- Please note that the entity id type obtained by spigot is **int**, while the entity id type required by the client modsdk interface is **str** 

- However, there will be some negative entity ids on the client side, which will be virtual entities generated by geyser when doing protocol conversion, and there will be no corresponding entities on the spigot side 

Example: 

```java 
public void onEnable() { 
SpigotMaster spigotMaster = (SpigotMaster) Bukkit.getPluginManager().getPlugin("SpigotMaster"); 
if (spigotMaster != null){ 
spigotMaster.listenForEvent("MyMod", "MySystemClient", "clientEvent", new PyRpcHandler() { 
@Override 
public void onEvent(Player player, Map<String, Object> map) { 
spigotMaster.notifyToClient(player, "MyMod", "MySystemServer", "serverEvent", map); 
} 
           });
       }
   }
   ```
   
   Client side:
   
   ```python
   # modMain.py
   @Mod.InitClient()
   def InitClient(self):
       clientApi.RegisterSystem("MyMod", "MySystemClient", client_system_class_path)

       
   # clientSystem 
class MySystemClient(ClientSystem): 
def __init__(self, namespace, systemName): 
ClientSystem.__init__(self, namespace, systemName) 
self.ListenForEvent("MyMod", "MySystemServer", "serverEvent", self, self.onEvent) 
self.NotifyToServer("clientEvent", {'a': 1}) 

def onEvent(self, data): 
print 'onEvent', data 
``` 

## API 

class SpigotMaster 

- listenForEvent 

Listen for client events 

- notifyToClient 

Send events to a specified player 

- notifyToMultiClients 

Send events to multiple players 

- notifyToClientsNearby 

Send events to players near the location 

- broadcastToAllClient 

Broadcast events to all players in the server 

- getCustomItemIdentifier(itemStack) 
Get custom item identifier 
@Param ItemStack itemStack spigot generated itemStack 
@Return String customItemIdentifier When the item is a custom item, return the custom item identifier, otherwise return null 

- setCustomItemIdentifier(itemStack, customItemIdentifier) 
Set custom item identifier 
@Param itemStack spigot generated itemStack 
@Param String customItemIdentifier custom item identifier 

- getCustomItemMaterial(customItemIdentifier) 
Get custom item identifier 
@Param String customItemIdentifier custom item identifier 
@Return Mateiral In the current version V1.1.0, Material.WOOD_SWORD (i.e. wooden sword reskin) is fixedly returned